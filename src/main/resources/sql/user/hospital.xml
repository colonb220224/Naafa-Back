<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.colonb.naafa.hospital.HospitalMapper">

<!--    <resultMap id="User" type="com.colonb.naafa.user.entity.User">-->
<!--        <result property="seq" column="SEQ"/>-->
<!--        <result property="username" column="USERNAME"/>-->
<!--        <result property="password" column="PASSWORD"/>-->
<!--        <result property="provider" column="PROVIDER"/>-->
<!--        <result property="socialId" column="SOCIAL_ID"/>-->
<!--        <result property="role" column="ROLE"/>-->
<!--    </resultMap>-->

    <insert id="insertUserHospitalHost">
        INSERT INTO USER_HOSPITAL_RELATE (USER, HOSPITAL, HOST)
        values (#{seq}, #{HOSPITAL}, true)
    </insert>

    <insert id="insertHospitalChief">
        INSERT INTO HOSPITAL_CHIEF (CHIEF_NAME, LICENSE_NUMBER, CHIEF_CATEGORY, SEX)
        values (#{chiefName}, #{licenseNumber}, #{chiefCategory}, #{gender})
    </insert>

    <insert id="insertHospital" useGeneratedKeys="true" keyProperty="HOSPITAL" keyColumn="SEQ">
        INSERT INTO HOSPITAL (NAME, ADDRESS, COORDINATE, CONTACT, USER)
        values (#{name}, #{address}, POINT(10, 10), #{contact}, #{seq})
    </insert>

</mapper>